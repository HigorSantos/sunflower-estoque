{"version":3,"sources":["services/account.js","helpers/history.js","services/api.js","pages/AdicionarProduto.js","assets/detalhe.svg","pages/Estoque.js","pages/DetalheEstoque.js","components/SelecQuantidate.js","pages/MovimentarEstoque.js","pages/Logar.js","PrivateRoute.js","routes.js","assets/adicionar-ao-carrinho.svg","assets/add-produto.svg","assets/lista-de-controle.svg","components/Header.js","components/Footer.js","App.js","helpers/jwt.interceptor.js","helpers/error.interceptor.js","helpers/init-facebook-sdk.js","index.js"],"names":["authenticateTimeout","history","createBrowserHistory","api","axios","create","baseURL","process","timeout","withCredentials","AdicionarProduto","state","codigo","nome","preco","status","handleChange","e","setState","target","name","value","handleSubmit","a","preventDefault","post","st","msg","document","title","className","id","onSubmit","this","htmlFor","type","required","placeholder","onChange","Component","withRouter","Estoque","produtos","busca","get","then","response","data","catch","err","statusText","fmtCurrency","Intl","NumberFormat","style","currency","termo","filtrados","length","filter","prod","console","log","toLowerCase","includes","map","produto","_id","format","estoque","to","src","iconDetalhes","alt","DetalheEstoque","listaEstoque","estoqueConsolidado","codProduto","props","match","params","push","respProd","respConsolidado","fmtDataCompleta","DateTimeFormat","year","month","day","hour","minute","second","hour12","fmtDataCompacta","tipo","simples","Date","createdAt","qtd","SelecQuantidate","min","max","increment","valorNovo","decrement","prevProps","onClick","readOnly","MovimentarEstoque","prodSelecionado","movSelecionada","qtdMin","qtdMax","ciclo","tipoMovimentacao","handleSelecProdChange","handleSelecMovChange","mov","handleChangeQuantidade","message","erro","respTipoEstoque","options","getOptionLabel","option","toUpperCase","getOptionValue","accountSubject","BehaviorSubject","errosAutenticSubject","accountService","login","apiAuthenticate","logout","stopAuthenticateTimer","next","getMsgLogin","erroLogin","account","asObservable","errosAutentic","Promise","window","FB","authResponse","accessToken","location","from","pathname","token","startAuthenticateTimer","chaveErro","padrao","getErroLogin","jwtToken","JSON","parse","atob","split","exp","getTime","now","getAuthResponse","info","setTimeout","clearTimeout","Logar","useState","setErro","useEffect","accountValue","subscribe","x","PrivateRoute","component","rest","render","Routes","useLocation","slice","path","exact","Header","setAccount","addIcon","estoqueIcon","movimentarIcon","href","App","basename","interceptors","request","use","isLoggedIn","isApiUrl","startsWith","headers","common","Authorization","error","errorMessage","resolve","fbAsyncInit","init","appId","cookie","xfbml","version","getLoginStatus","d","s","js","fjs","getElementsByTagName","getElementById","createElement","parentNode","insertBefore","ReactDOM"],"mappings":"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","file":"static/js/main.d8a59152.chunk.js","sourcesContent":["import { BehaviorSubject } from 'rxjs';\r\nimport {history} from '../helpers/history';\r\n\r\nimport api from './api';\r\n\r\nconst accountSubject = new BehaviorSubject(null);\r\nconst errosAutenticSubject  = new BehaviorSubject(null);\r\n\r\nexport const accountService = {\r\n    login,\r\n    apiAuthenticate,\r\n    logout,\r\n    getMsgLogin,\r\n    erroLogin,\r\n    account: accountSubject.asObservable(),\r\n    errosAutentic: errosAutenticSubject.asObservable(),\r\n    get accountValue() { return accountSubject.value; }\r\n};\r\n\r\nasync function login() {\r\n\r\n    const { authResponse } = await new Promise(window.FB.login);\r\n    console.log(authResponse)\r\n    \r\n    if (!authResponse) return;\r\n    await apiAuthenticate(authResponse.accessToken);\r\n\r\n    // get return url from location state or default to home page\r\n    const { from } = history.location.state || { from: { pathname: \"/estoque\" } };\r\n\r\n    history.push(from);\r\n}\r\n\r\nasync function apiAuthenticate(accessToken) {\r\n    // authenticate with the api using a facebook access token,\r\n    // on success the api returns an account object with a JWT auth token\r\n    const response = await api.post(`/login`, { accessToken });\r\n    //console.log(\"apiAuthenticate\", response)\r\n\r\n    if(response && response.data?.token){\r\n        accountSubject.next(response.data);\r\n        startAuthenticateTimer();\r\n\r\n        return response.data;\r\n    }else{\r\n        if(response){\r\n\r\n            erroLogin(response.status);\r\n        }\r\n    }\r\n}\r\nfunction erroLogin(erro) {\r\n    stopAuthenticateTimer();\r\n    const chaveErro = getErroLogin(erro);\r\n\r\n    accountSubject.next(null);\r\n    errosAutenticSubject.next(chaveErro);\r\n\r\n    history.push(`/login?erro=${chaveErro}`);\r\n}\r\n\r\nfunction getErroLogin(erro){\r\n    const padrao = '0';\r\n    const msg = {\r\n        '403':'autenticacao_api_nao_cad',\r\n        '401': 'autenticacao_api',\r\n        '500': 'autenticacao_api',\r\n        '0': 'autenticacao_api',\r\n    }\r\n\r\n    return msg[erro] || msg[padrao];\r\n}\r\n\r\nfunction getMsgLogin(erro){\r\n    const padrao = 'autenticacao_api';\r\n    const msg = {\r\n        'autenticacao_api_nao_cad':'Usuário não cadastrado',\r\n        'autenticacao_api': 'Erro durante autenticação',\r\n    }\r\n\r\n    return msg[erro] || msg[padrao];\r\n}\r\n\r\nfunction logout() {\r\n    // revoke app permissions to logout completely because FB.logout() doesn't remove FB cookie\r\n   /* window.FB.api('/me/permissions', 'delete', null, () => window.FB.logout());*/\r\n    stopAuthenticateTimer();\r\n    accountSubject.next(null);\r\n\r\n    history.push('/login');\r\n}\r\n\r\nlet authenticateTimeout;\r\n\r\nfunction startAuthenticateTimer() {\r\n    // parse json object from base64 encoded jwt token\r\n    const jwtToken = JSON.parse(atob(accountSubject.value.token.split('.')[1]));\r\n\r\n    // set a timeout to re-authenticate with the api one minute before the token expires\r\n    const expires = new Date(jwtToken.exp * 1000);\r\n    const timeout = expires.getTime() - Date.now() - (60 * 1000);\r\n    const { accessToken } = window.FB.getAuthResponse();\r\n\r\n    console.info(\"-----------------------------------\")\r\n    console.info(\"CHAMANDO VIA startAuthenticateTimer\")\r\n    console.info(\"-----------------------------------\")\r\n\r\n    authenticateTimeout = setTimeout(() => apiAuthenticate(accessToken), timeout);\r\n}\r\n\r\nfunction stopAuthenticateTimer() {\r\n    // cancel timer for re-authenticating with the api\r\n    clearTimeout(authenticateTimeout);\r\n}","import { createBrowserHistory } from 'history';\r\n\r\nexport const history = createBrowserHistory();","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n    baseURL: process.env.REACT_APP_URL_API,\r\n    timeout: process.env.REACT_APP_TIMEOUT_API,\r\n    withCredentials: true\r\n});\r\n\r\n\r\n\r\nexport default api;\r\n","import React, {Component} from 'react';\r\nimport api from '../services/api';\r\n\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nimport './AdicionarProduto.css';\r\n\r\n\r\nclass AdicionarProduto extends Component{\r\n    state = {\r\n        codigo:'',\r\n        nome:'',\r\n        preco:0,\r\n        status:null\r\n    };\r\n    async componentDidMount(){\r\n       document.title = \"Adicionar Produto\";\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    handleSubmit = async e=> {\r\n        e.preventDefault();\r\n\r\n        const prod = await api.post('produtos', {\r\n            codigo: this.state.codigo,\r\n            nome: this.state.nome,\r\n            preco: this.state.preco\r\n        })\r\n\r\n        if(prod.status===200){\r\n            this.setState({\r\n                codigo:'',\r\n                nome:'',\r\n                preco:'',\r\n                status:{\r\n                    st:'ok',\r\n                    msg:'Lançado!'\r\n                }\r\n            })\r\n        }else{\r\n            this.setState({status:{\r\n                st:'erro',\r\n                msg:'Não Lançado!'\r\n            }\r\n        })\r\n        }\r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <section className=\"main-section\">\r\n            <form id=\"novo-produto\" onSubmit={this.handleSubmit}>\r\n                <div className=\"grupo-input\">\r\n                    <label htmlFor=\"codigo\">Código:</label>\r\n                    <input type=\"text\"\r\n                        name=\"codigo\"\r\n                        required\r\n                        placeholder=\"Código do Produto na revista\"\r\n                        onChange={this.handleChange}\r\n                        value={this.state.codigo}/>\r\n                </div>\r\n                <div className=\"grupo-input\">\r\n                    <label htmlFor=\"nome\">Nome:</label>\r\n                    <input type=\"text\"\r\n                        name=\"nome\"\r\n                        required\r\n                        placeholder=\"Nome do Produto\"\r\n                        onChange={this.handleChange}\r\n                        value={this.state.nome}/>\r\n                </div>\r\n                <div className=\"grupo-input\">\r\n                    {/* TODO Transformar em campo de preço */}\r\n                    <label htmlFor=\"preco\">Preço:</label>\r\n                    <input type=\"number\"\r\n                        name=\"preco\"\r\n                        placeholder=\"Preço do Produto\"\r\n                        onChange={this.handleChange}\r\n                        value={this.state.preco}/>\r\n                </div>\r\n                <button className=\"btn-add\">Adicionar Produto</button>\r\n\r\n                <span>{this.state.status!=null ? <span className={`status-${this.state.status.st}`}>{this.state.status.msg}</span>:''}</span>\r\n            </form>\r\n            </section>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(AdicionarProduto);","export default __webpack_public_path__ + \"static/media/detalhe.c707d3f4.svg\";","import React, {Component} from 'react';\r\nimport api from '../services/api';\r\n\r\nimport './Estoque.css';\r\n\r\nimport iconDetalhes from '../assets/detalhe.svg'\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass Estoque extends Component{\r\n    state = {\r\n        produtos:[],\r\n        busca:'',\r\n        status:''\r\n    };\r\n    async componentDidMount(){\r\n        document.title = \"Estoque Atual\";\r\n\r\n       await api.get('produtos/estoque')\r\n       .then(response => {\r\n           this.setState({ produtos: response.data })\r\n       })\r\n       .catch(err=>{\r\n           if(err && err.data){\r\n               this.setState({status:err.status + \" \" + err.data.statusText})\r\n           }else{\r\n               this.setState({status: \" \" + err})\r\n           }\r\n       });\r\n\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n     }\r\n\r\n    render(){\r\n        const fmtCurrency = new Intl.NumberFormat('pt-BR',{ style: 'currency', currency:'BRL'})\r\n        \r\n        const termo = this.state.busca;\r\n        let filtrados = null;\r\n\r\n        if(termo.length>=4){\r\n            filtrados = \r\n                this.state.produtos.filter(prod => {\r\n                    console.log(prod['_id']['nome'].toLowerCase())\r\n                    return prod['_id']['nome'].toLowerCase().includes(termo.toLowerCase())\r\n                            || prod['_id']['codigo'] === termo\r\n            })\r\n            \r\n        }\r\n\r\n        const produtos = (filtrados && filtrados.length>0 ? filtrados : null) \r\n                        || this.state.produtos;\r\n        \r\n        return (\r\n            <section id=\"lista-estoque\" className=\"main-section\">\r\n                <input \r\n                    className=\"busca-produto\"\r\n                    type=\"text\" \r\n                    name=\"busca\"\r\n                    placeholder=\"Buscar Produto\"\r\n                    onChange={this.handleChange}\r\n                    value={this.state.busca}/>\r\n                <span>{this.state.status}</span>\r\n                {!produtos ? null : produtos.map(produto => \r\n                    <article key={produto._id.codigo}>\r\n                        <div className=\"prod-info\">\r\n                            <span className=\"prod-name\">{produto._id.nome} <span className=\"prod-codigo\">({produto._id.codigo})</span></span>\r\n                            <div className=\"prod-info-det\">\r\n                                <span className=\"prod-preco\">Preço: <em>{fmtCurrency.format(produto._id.preco)}</em></span>\r\n                                <span className=\"prod-qtd\">Qtd: <em>{produto.estoque}</em></span>\r\n                            </div>\r\n                        </div>\r\n                        <div className=\"prod-acoes\">\r\n                            <Link to={`/detalheestoque/${produto._id.codigo}`}>\r\n                                <img src={iconDetalhes} alt=\"Ver Todas as movimentações\" title=\"Ver Todas as movimentações\" />\r\n                            </Link>\r\n                        </div>\r\n                    </article>\r\n                )}\r\n            </section>\r\n        );\r\n    }\r\n}\r\nexport default Estoque;","import React, {Component} from 'react';\r\nimport api from '../services/api';\r\n\r\nimport './DetalheEstoque.css';\r\n\r\nclass DetalheEstoque extends Component{\r\n    state = {\r\n        listaEstoque:[],\r\n        produto:{},\r\n        estoqueConsolidado:{},\r\n        status:\"\"\r\n    };\r\n    async componentWillMount(){\r\n        document.title = \"Histórico do Produto\";\r\n\r\n       const codProduto = this.props.match.params.codProduto;\r\n\r\n        if(!codProduto){\r\n            this.props.history.push(\"/estoque\"); \r\n        }\r\n\r\n        await api.get(`estoque/produto/${codProduto}`) \r\n        .then(response=>{\r\n            this.setState({ listaEstoque: response?.data || [] });\r\n\r\n        })\r\n        .catch(err=>{\r\n            if(err && err.data){\r\n                this.setState({status:err.status + \" \" + err.data.statusText})\r\n            }else{\r\n \r\n                this.setState({status: \" \" + err})\r\n            }\r\n        });;\r\n\r\n        await api.get(`produto/${codProduto}`)\r\n        .then(respProd=>{\r\n            this.setState({ produto: respProd?.data || {} });\r\n        })\r\n        .catch(err=>{\r\n            if(err && err.data){\r\n                this.setState({status:err.status + \" \" + err.data.statusText})\r\n            }else{\r\n                this.setState({status: \" \" + err})\r\n            }\r\n        });\r\n\r\n        await api.get(`estoque/produto/${codProduto}/consolidado`)\r\n        .then(respConsolidado=>{\r\n            this.setState({estoqueConsolidado: respConsolidado?.data[0] || {}})\r\n        })\r\n        .catch(err=>{\r\n            if(err && err.data){\r\n                this.setState({status:err.status + \" \" + err.data.statusText})\r\n            }else{\r\n                this.setState({status: \" \" + err})\r\n            }\r\n        });\r\n    }\r\n\r\n    render(){\r\n        const fmtCurrency = new Intl.NumberFormat('pt-BR',{ style: 'currency', currency:'BRL'})\r\n        const fmtDataCompleta = new Intl.DateTimeFormat('default', {\r\n            year: 'numeric', month: 'numeric', day: 'numeric',\r\n            hour: 'numeric', minute: 'numeric', second: 'numeric', hour12: false\r\n        });\r\n        const fmtDataCompacta = new Intl.DateTimeFormat('default', {\r\n            year: 'numeric', month: 'numeric', day: 'numeric'});     \r\n\r\n        return (\r\n            <section className=\"main-section\">\r\n                <div id=\"prod-det\">\r\n                    <h3>{this.state.produto.nome} <span className=\"prod-codigo\">({this.state.produto.codigo})</span></h3>\r\n                    <h4 className=\"prod-preco\">Último Preço: <em>{fmtCurrency.format(this.state.produto.preco)}</em></h4>\r\n                    <h4>Quantidade em Estoque: <em>{this.state.estoqueConsolidado.estoque}</em></h4>\r\n                </div>\r\n\r\n                <div id=\"prod-log-estoque\">\r\n                    {this.state.listaEstoque.map(log=>\r\n                        <article className={`tipo-estoque-${log.tipo.simples}`} key={log._id}>\r\n                            <span className=\"log-tipo\">{log.tipo.tipo}</span>\r\n                            <span title={fmtDataCompleta.format(new Date(log.createdAt))}>{fmtDataCompacta.format(new Date(log.createdAt))}</span>\r\n                            <span className=\"log-qtd\">Qtd: {log.qtd}</span>\r\n                            <span className=\"log-preco\">{fmtCurrency.format(log.preco)}</span>\r\n                        </article>\r\n                    )}\r\n\r\n                </div>\r\n            </section>\r\n        );\r\n    }\r\n}\r\nexport default DetalheEstoque;","import React, {Component} from 'react';\r\nimport './SelecQuantidate.css';\r\n\r\nclass SelecQuantidate extends Component {\r\n    state = {\r\n        value: 0,\r\n        min: 0,\r\n        max: 9999\r\n    }\r\n    componentDidMount(){\r\n\r\n        this.setState({\r\n            min: this.props.min,\r\n            max: this.props.max,\r\n            value: this.props.min\r\n        })\r\n    }\r\n    componentDidUpdate(prevProps) {\r\n        if(prevProps.min !== this.props.min) {\r\n            this.setState({\r\n                min: this.props.min,\r\n                value: this.props.min\r\n            });\r\n        }\r\n        if(prevProps.max !== this.props.max) {\r\n            this.setState({\r\n                max: this.props.max\r\n            });\r\n        }\r\n      }\r\n    increment = (e) => {\r\n        e.preventDefault();\r\n        let {value, max} = this.state;\r\n        const valorNovo = value < max ? ++value : value;\r\n        this.setState({\r\n            value: valorNovo\r\n        });\r\n        this.props.onChange(valorNovo);\r\n    }\r\n\r\n    decrement = (e) => {\r\n        e.preventDefault();\r\n        let {value, min} = this.state;\r\n        const valorNovo = value > min? --value : min\r\n        this.setState({\r\n            value: valorNovo\r\n        });\r\n        this.props.onChange(valorNovo);\r\n    }\r\n\r\n    render() {\r\n        return (\r\n        <div className=\"quantidade-input\">\r\n            <button \r\n                className=\"quantity-input-btn\"\r\n                onClick={this.decrement}>\r\n                &mdash;\r\n            </button>\r\n            <input className=\"quantity-input-inp\"\r\n                    type=\"text\"\r\n                    value={this.state.value}\r\n                    readOnly\r\n                    />\r\n            <button \r\n                    className=\"quantity-input-btn\" \r\n                    onClick={this.increment}>\r\n                &#xff0b;\r\n            </button>  \r\n        </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default SelecQuantidate;","import React, {Component} from 'react';\r\nimport Select from 'react-select'\r\nimport api from '../services/api';\r\nimport SelecQuantidate from '../components/SelecQuantidate'\r\n\r\nimport {withRouter} from 'react-router-dom';\r\n\r\nimport './MovimentarEstoque.css';\r\n\r\n\r\nclass MovimentarEstoque extends Component{\r\n    state = {\r\n        produtos:[],\r\n        prodSelecionado:null,\r\n        movSelecionada:{},\r\n        qtd:0,\r\n        qtdMin:0,\r\n        qtdMax:9999,\r\n        preco:0,\r\n        ciclo:'',\r\n        tipoMovimentacao:[],\r\n        status:null\r\n    };\r\n    async componentDidMount(){\r\n        document.title = \"Movimentar Estoque\";\r\n\r\n       const response = await api.get('produtos');\r\n\r\n       this.setState({produtos: response?.data||[]});\r\n\r\n       const respTipoEstoque = await api.get('TipoEstoque');\r\n\r\n       this.setState({tipoMovimentacao: respTipoEstoque?.data||[]});\r\n    }\r\n\r\n    handleChange = e => {\r\n        this.setState({ [e.target.name]: e.target.value })\r\n    }\r\n\r\n    handleSelecProdChange = prod => {\r\n        this.setState({ prodSelecionado: prod })\r\n    }\r\n\r\n    handleSelecMovChange = mov => {\r\n        const value = mov.qtdMin||0;\r\n        const qtdMin =  mov.qtdMin||0;\r\n        const qtdMax = mov.qtdMax||9999;\r\n\r\n        this.setState({ movSelecionada: mov, qtdMin:qtdMin, qtdMax:qtdMax, qtd:value })\r\n    }\r\n    handleChangeQuantidade= value =>{\r\n        this.setState({ qtd: value })\r\n    }\r\n    handleSubmit = async e => {\r\n        e.preventDefault();\r\n\r\n        if(!this.state.prodSelecionado || !this.state.prodSelecionado.codigo){\r\n            this.setState({status:{\r\n                st:'erro',\r\n                msg:'Selecione um Produto'\r\n            }\r\n            })\r\n            return;\r\n        }\r\n        if(!this.state.movSelecionada || !this.state.movSelecionada._id){\r\n            this.setState({status:{\r\n                st:'erro',\r\n                msg:'Selecione uma Movimentação'\r\n            }\r\n            })\r\n            return;\r\n        }\r\n\r\n        if(!this.state.preco || this.state.preco===0){\r\n            this.setState({status:{\r\n                st:'erro',\r\n                msg:'Informe um preço'\r\n            }\r\n            })\r\n            return;\r\n        }\r\n\r\n        await api.post('estoque', {\r\n            codProduto: this.state.prodSelecionado.codigo,\r\n            qtd: this.state.qtd,\r\n            preco: this.state.preco,\r\n            ciclo: this.state.ciclo,\r\n            tipo: this.state.movSelecionada.codigo\r\n\r\n        }).then(response => {\r\n            //console.log(response, \"resp-estoque\")\r\n\r\n            if(response.status===201 || response.status===200){\r\n                this.setState({\r\n                    prodSelecionado: null,\r\n                    qtd: 0,\r\n                    qtdMin:0,\r\n                    qtdMax:9999,\r\n                    preco: 0,\r\n                    ciclo: '',\r\n                    movSelecionada: {},\r\n                    status:{\r\n                        st:'ok',\r\n                        msg:'Adicionado!'\r\n                    }\r\n                })\r\n            }else{\r\n                this.setState({status:{\r\n                    st:'erro',\r\n                    msg:'Não adicionado! '+response.data.message\r\n                }\r\n                })\r\n            }\r\n        })\r\n        .catch(erro => {\r\n            this.setState({status:{\r\n                st:'erro',\r\n                msg:'Não adicionado! '+erro\r\n            }\r\n            })\r\n        });\r\n        \r\n    }\r\n\r\n    render(){\r\n        return (\r\n            <div className=\"main-section\" id=\"nova-movimentacao\">\r\n                <form id=\"nova-movimentacao\">\r\n                    <div className=\"grupo-input\">\r\n                        <label htmlFor=\"seleciona-produto\">Produto:</label>\r\n                        <Select\r\n                            name=\"seleciona-produto\"\r\n                            className=\"selecao\"\r\n                            placeholder=\"Selecione o Produto\"\r\n                            value={this.state.prodSelecionado||''}\r\n                            options={this.state.produtos}\r\n                            onChange={this.handleSelecProdChange}\r\n                            getOptionLabel={(option)=>`${option.nome.toUpperCase()} (${option.codigo})`}\r\n                            getOptionValue={(option)=>option.codigo}/>\r\n                    </div>\r\n                    <div className=\"grupo-input\">\r\n                        <label htmlFor=\"seleciona-movimentacao\">Movimentação:</label>\r\n                        <Select\r\n                            name=\"selecao-movimentacao\"\r\n                            className=\"selecao\"\r\n                            placeholder=\"Selecione a Movimentacao\"\r\n                            value={this.state.movSelecionada||''}\r\n                            options={this.state.tipoMovimentacao}\r\n                            onChange={this.handleSelecMovChange}\r\n                            getOptionLabel={(option)=>option.tipo}\r\n                            getOptionValue={(option)=>option.codigo} />\r\n                    </div>\r\n                    <div className=\"grupo-input\">\r\n                        <label htmlFor=\"ciclo\">Ciclo:</label>\r\n                        <input type=\"text\"\r\n                                name=\"ciclo\"\r\n                                placeholder=\"Ciclo\"\r\n                                onChange={this.handleChange}\r\n                                value={this.state.ciclo}/>\r\n                    </div>\r\n                    <div className=\"grupo-input\">\r\n                        {/* TODO Transformar em campo de preço */}\r\n                        <label htmlFor=\"preco\">Preço:</label>\r\n                        <input type=\"number\"\r\n                                name=\"preco\"\r\n                                placeholder=\"Preço (se alterado ou venda)\"\r\n                                onChange={this.handleChange}\r\n                                value={this.state.preco}/>\r\n\r\n                    </div>\r\n                    <div className=\"grupo-input\">\r\n                        {/* TODO Transformar em campo seleção de quantidade */}\r\n                        <label htmlFor=\"qtd\">Quantidade:</label>\r\n                        <SelecQuantidate\r\n                            min={this.state.qtdMin||0}\r\n                            max={this.state.qtdMax||9999}\r\n                            onChange={this.handleChangeQuantidade}/>\r\n                    </div>\r\n                    <button onClick={this.handleSubmit}>Lançar Movimentação</button>\r\n\r\n                    <span>{this.state.status!=null ? <span className={`status-${this.state.status.st}`}>{this.state.status.msg}</span>:''}</span>\r\n                </form>\r\n            </div>\r\n        );\r\n    }\r\n}\r\nexport default withRouter(MovimentarEstoque);","import React, { useEffect, useState } from 'react';\r\nimport { Redirect} from 'react-router-dom';\r\nimport { accountService } from '../services/account';\r\n\r\nfunction Logar({ history }) {\r\n    const [erro, setErro] = useState(null);\r\n    document.title = \"Login\";\r\n    useEffect(() => {\r\n        // redirect to home if already logged in\r\n        if (accountService.accountValue) {\r\n\r\n            history.push(\"/estoque\");\r\n        }\r\n        \r\n        accountService.errosAutentic.subscribe(x => setErro(x));\r\n    }, [history]);\r\n    \r\n    async function autenticar() {\r\n        await accountService.login();\r\n    }\r\n    \r\n    return (\r\n        <div className=\"login-page\">\r\n            <button className=\"btn btn-facebook\" onClick={autenticar}>\r\n                <i className=\"fa fa-facebook mr-1\"></i>\r\n                Login with Facebook\r\n            </button>\r\n            {erro? <h4>Erro: <em>{accountService.getMsgLogin(erro)}</em></h4> : null}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport { Logar };","import React from 'react';\r\nimport { Route, Redirect } from 'react-router-dom';\r\n\r\nimport { accountService } from './services/account';\r\n\r\nfunction PrivateRoute({ component: Component, ...rest }) {\r\n    return (\r\n        <Route {...rest} render={props => {\r\n            console.log(\"props.location\", props.location)\r\n            const account = accountService.accountValue;\r\n\r\n            if (!account) {\r\n                // not logged in so redirect to login page with the return url\r\n                return <Redirect to={{ pathname: '/login', state: { from: props.location } }} />\r\n            }\r\n\r\n            // authorized so return component\r\n            return <Component {...props} />\r\n        }} />\r\n    );\r\n}\r\n\r\nexport { PrivateRoute };","import React from 'react';\r\nimport {Switch, Route, useLocation, Redirect} from 'react-router-dom';\r\n\r\nimport AdicionarProduto from './pages/AdicionarProduto';\r\nimport Estoque from './pages/Estoque';\r\nimport DetalheEstoque from './pages/DetalheEstoque';\r\nimport MovimentarEstoque from './pages/MovimentarEstoque';\r\n\r\nimport {Logar} from './pages/Logar'\r\nimport {PrivateRoute} from './PrivateRoute';\r\n\r\nfunction Routes() {\r\n    const pathname = useLocation().pathname || '';\r\n\r\n    return(\r\n        <Switch>\r\n            <Redirect from=\"/:url*(/+)\" to={pathname.slice(0, -1)} />\r\n            \r\n            <PrivateRoute path=\"/\" exact component={Estoque} />\r\n            <PrivateRoute path=\"/adicionarproduto\" exact component={AdicionarProduto}/>\r\n            <PrivateRoute path=\"/estoque\" exact component={Estoque}/>\r\n            <PrivateRoute path=\"/detalheestoque/:codProduto\" exact component={DetalheEstoque}/>\r\n            <PrivateRoute path=\"/movimentar\" exact component={MovimentarEstoque}/>\r\n\r\n            <Route path=\"/login\" component={Logar} />\r\n            <Redirect from=\"*\" to=\"/\" />\r\n        </Switch>\r\n    );\r\n}\r\nexport default Routes;","export default __webpack_public_path__ + \"static/media/adicionar-ao-carrinho.8bd154cf.svg\";","export default __webpack_public_path__ + \"static/media/add-produto.b2b4d489.svg\";","export default __webpack_public_path__ + \"static/media/lista-de-controle.4d347909.svg\";","import React, {useEffect, useState} from 'react';\r\nimport {Link} from 'react-router-dom';\r\n\r\nimport './Header.css';\r\nimport movimentarIcon from '../assets/adicionar-ao-carrinho.svg';\r\nimport addIcon from '../assets/add-produto.svg';\r\nimport estoqueIcon from '../assets/lista-de-controle.svg';\r\n\r\nimport { accountService } from '../services/account';\r\n\r\nfunction Header() {\r\n    const [account, setAccount] = useState(null);\r\n    useEffect(() => {\r\n        accountService.account.subscribe(x => setAccount(x));\r\n    }, []);\r\n\r\n    return (\r\n        <header id=\"main-header\">\r\n            <div className=\"header-content\">\r\n                <Link to=\"/\"><h2 id=\"header-logo\">Sunflower - Estoque</h2></Link>\r\n                {account ? \r\n                <div className=\"header-icons\">\r\n                    <Link to=\"/adicionarProduto\"><img src={addIcon} alt=\"Adicionar Produto\" title=\"Adicionar Produto\"/></Link>\r\n                    <Link to=\"/estoque\"><img src={estoqueIcon} alt=\"Ver Estoque\" title=\"Ver Estoque\"/></Link>\r\n                    <Link to=\"/movimentar\"><img src={movimentarIcon} alt=\"Movimentar Estoque\" title=\"Movimentar Estoque\"/></Link>\r\n                </div>\r\n                : null}\r\n            </div>\r\n        </header>\r\n    );\r\n    \r\n}\r\nexport default Header;","import React, {Component} from 'react';\r\n\r\nimport './Footer.css';\r\n\r\n\r\nclass Header extends Component{\r\n\r\n    render(){\r\n        return (\r\n            <footer id=\"main-footer\">\r\n                <p>Todos os direitos reservados. <a href=\"https://github.com/HigorSantos\">Higor Santos</a></p>\r\n                <div id=\"creditos\">\r\n                    <h5>Créditos: </h5>\r\n                    <span>Ícones feitos por <a href=\"https://www.flaticon.com/br/autores/freepik\" title=\"Freepik\">Freepik</a> from <a href=\"https://www.flaticon.com/br/\" title=\"Flaticon\"> www.flaticon.com</a></span>\r\n                </div>\r\n            </footer>\r\n        );\r\n    }\r\n}\r\nexport default Header;\r\n","import React from 'react';\nimport {BrowserRouter} from 'react-router-dom'\n\nimport {history} from './helpers/history';\nimport Routes from './routes';\nimport Header from './components/Header';\nimport Footer from './components/Footer';\n\nfunction App() {\n  return (\n    <BrowserRouter history={history} basename={process.env.PUBLIC_URL + '/'}>\n      <Header />\n      <Routes  />\n      <Footer />\n    </BrowserRouter>\n  );\n}\n\nexport default App;\n","import api from '../services/api';\r\n\r\nimport { accountService } from '../services/account';\r\n\r\nexport function jwtInterceptor() {\r\n    api.interceptors.request.use(request => {\r\n        //adiciona header de autenticacao pra todas as chamadas com usuario logado (somente para api)\r\n        const account = accountService.accountValue;\r\n        //console.log(\"interc\",account)\r\n        const isLoggedIn = account?.token;\r\n        const isApiUrl = request.baseURL.startsWith(process.env.REACT_APP_URL_API);\r\n\r\n        if (isLoggedIn && isApiUrl) {\r\n            request.headers.common.Authorization = `Bearer ${account.token}`;\r\n        }\r\n\r\n        return request;\r\n    });\r\n}","import api from '../services/api';\r\n\r\nimport { accountService } from '../services/account';\r\n\r\nexport function errorInterceptor() {\r\n    api.interceptors.response.use(null, (error) => {\r\n        const { response } = error;\r\n        if (!response) {\r\n            // network error\r\n            console.error(error);\r\n            return;\r\n        }\r\n    \r\n        if ([401, 403].includes(response.status)) {\r\n            // auto logout if 401 or 403 response returned from api\r\n            console.log(\"response.status\", response.status);\r\n            console.log(\"response.message\", response.data?.message);\r\n            accountService.erroLogin(response.status);\r\n        }\r\n\r\n        const errorMessage = response.data?.message || response.statusText;\r\n        console.error('ERROR:', errorMessage);\r\n        return response;\r\n    });\r\n}","import { accountService } from '../services/account';\r\n\r\nconst facebookAppId = process.env.REACT_APP_ID_FACEBOOK;\r\n\r\nexport function initFacebookSdk() {\r\n    return new Promise(resolve => {\r\n        // wait for facebook sdk to initialize before starting the react app\r\n        window.fbAsyncInit = function () {\r\n            window.FB.init({\r\n                appId: facebookAppId,\r\n                cookie: true,\r\n                xfbml: true,\r\n                version: 'v8.0'\r\n            });\r\n\r\n            // auto authenticate with the api if already logged in with facebook\r\n            window.FB.getLoginStatus(({ authResponse }) => {\r\n                if (authResponse) {\r\n                    accountService.apiAuthenticate(authResponse.accessToken).then(resolve);\r\n                } else {\r\n                    resolve();\r\n                }\r\n            });\r\n        };\r\n\r\n        // load facebook sdk script\r\n        (function (d, s, id) {\r\n            var js, fjs = d.getElementsByTagName(s)[0];\r\n            if (d.getElementById(id)) { return; }\r\n            js = d.createElement(s); js.id = id;\r\n            js.src = \"https://connect.facebook.net/en_US/sdk.js\";\r\n            fjs.parentNode.insertBefore(js, fjs);\r\n        }(document, 'script', 'facebook-jssdk'));    \r\n    });\r\n}","import React from 'react';\nimport { Router } from 'react-router-dom';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nimport './global.css';\n\nimport { initFacebookSdk} from './helpers/init-facebook-sdk';\nimport { jwtInterceptor } from './helpers/jwt.interceptor';\nimport { errorInterceptor } from './helpers/error.interceptor';\n\n// enable interceptors for http requests\njwtInterceptor();\nerrorInterceptor();\n\n// wait for facebook sdk before startup\ninitFacebookSdk().then(startApp);\n\nfunction startApp() { \n    ReactDOM.render(<App />,document.getElementById('root'));\n}\n\n"],"sourceRoot":""}